# Snapshot report for `examples/napi/__tests__/typegen.spec.ts`

The actual snapshot is saved in `typegen.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## should generate correct type def file

> Snapshot 1

    `/* tslint:disable */␊
    /* eslint-disable */␊
    ␊
    /* auto-generated by NAPI-RS */␊
    ␊
    declare class ExternalObject<T> {␊
      readonly '': {␊
        readonly '': unique symbol␊
        [K: symbol]: T␊
      }␊
    }␊
    ␊
    /**␊
     * \`constructor\` option for \`struct\` requires all fields to be public,␊
     * otherwise tag impl fn as constructor␊
     * #[napi(constructor)]␊
     */␊
    export class Animal {␊
      /** Kind of animal */␊
      readonly kind: Kind␊
      /** This is the constructor */␊
      constructor(kind: Kind, name: string)␊
      /** This is a factory method */␊
      static withKind(kind: Kind): Animal␊
      get name(): string␊
      set name(name: string)␊
      get type(): Kind␊
      set type(kind: Kind)␊
      /**␊
       * This is a␊
       * multi-line comment␊
       * with an emoji 🚀␊
       */␊
      whoami(): string␊
      /** This is static... */␊
      static getDogKind(): Kind␊
      /**␊
       * Here are some characters and character sequences␊
       * that should be escaped correctly:␊
       * \\[]{}/\\:""{␊
       * }␊
       */␊
      returnOtherClass(): Dog␊
      returnOtherClassWithCustomConstructor(): Bird␊
      overrideIndividualArgOnMethod(normalTy: string, overriddenTy: {n: string}): Bird␊
    }␊
    ␊
    export class AnimalWithDefaultConstructor {␊
      name: string␊
      kind: number␊
      constructor(name: string, kind: number)␊
    }␊
    ␊
    export class AnotherClassForEither {␊
      constructor()␊
    }␊
    ␊
    export class AnotherCssStyleSheet {␊
      get rules(): CssRuleList␊
    }␊
    export type AnotherCSSStyleSheet = AnotherCssStyleSheet␊
    ␊
    export class Asset {␊
      constructor()␊
      get filePath(): number␊
    }␊
    export type JsAsset = Asset␊
    ␊
    export class Assets {␊
      constructor()␊
      get(id: number): JsAsset | null␊
    }␊
    export type JsAssets = Assets␊
    ␊
    export class Bird {␊
      name: string␊
      constructor(name: string)␊
      getCount(): number␊
    }␊
    ␊
    /** Smoking test for type generation */␊
    export class Blake2BHasher {␊
      static withKey(key: Blake2bKey): Blake2BHasher␊
      update(data: Buffer): void␊
    }␊
    export type Blake2bHasher = Blake2BHasher␊
    ␊
    export class Blake2BKey {␊
    ␊
    }␊
    export type Blake2bKey = Blake2BKey␊
    ␊
    export class ClassWithFactory {␊
      name: string␊
      static withName(name: string): ClassWithFactory␊
      setName(name: string): this␊
    }␊
    ␊
    export class Context {␊
      maybeNeed?: boolean␊
      buffer: Uint8Array␊
      constructor()␊
      static withData(data: string): Context␊
      static withBuffer(buf: Uint8Array): Context␊
      method(): string␊
    }␊
    ␊
    export class CssRuleList {␊
      getRules(): Array<string>␊
      get parentStyleSheet(): CSSStyleSheet␊
      get name(): string | null␊
    }␊
    export type CSSRuleList = CssRuleList␊
    ␊
    export class CssStyleSheet {␊
      constructor(name: string, rules: Array<string>)␊
      get rules(): CssRuleList␊
      anotherCssStyleSheet(): AnotherCssStyleSheet␊
    }␊
    export type CSSStyleSheet = CssStyleSheet␊
    ␊
    export class Dog {␊
      name: string␊
      constructor(name: string)␊
    }␊
    ␊
    export class Fib {␊
      [Symbol.iterator](): Iterator<number, void, number>␊
      constructor()␊
    }␊
    ␊
    export class Fib2 {␊
      [Symbol.iterator](): Iterator<number, void, number>␊
      static create(seed: number): Fib2␊
    }␊
    ␊
    export class Fib3 {␊
      current: number␊
      next: number␊
      constructor(current: number, next: number)␊
      [Symbol.iterator](): Iterator<number, void, number>␊
    }␊
    ␊
    export class JsClassForEither {␊
      constructor()␊
    }␊
    ␊
    export class JsRemote {␊
      name(): string␊
    }␊
    ␊
    export class JsRepo {␊
      constructor(dir: string)␊
      remote(): JsRemote␊
    }␊
    ␊
    export class NinjaTurtle {␊
      name: string␊
      /** Create your ninja turtle! 🐢 */␊
      static newRaph(): NinjaTurtle␊
      getMaskColor(): string␊
      getName(): string␊
      returnThis(this: this): this␊
    }␊
    ␊
    export class Optional {␊
      static optionEnd(required: string, optional?: string | undefined | null): string␊
      static optionStart(optional: string | undefined | null, required: string): string␊
      static optionStartEnd(optional1: string | undefined | null, required: string, optional2?: string | undefined | null): string␊
      static optionOnly(optional?: string | undefined | null): string␊
    }␊
    ␊
    export const enum ALIAS {␊
      A = 0,␊
      B = 1␊
    }␊
    ␊
    export interface AliasedStruct {␊
      a: ALIAS␊
      b: number␊
    }␊
    ␊
    export interface AllOptionalObject {␊
      name?: string␊
      age?: number␊
    }␊
    ␊
    /** You could break the step and for an new continuous value. */␊
    export const enum CustomNumEnum {␊
      One = 1,␊
      Two = 2,␊
      Three = 3,␊
      Four = 4,␊
      Six = 6,␊
      Eight = 8,␊
      Nine = 9,␊
      Ten = 10␊
    }␊
    ␊
    /** This is a const */␊
    export const DEFAULT_COST: number␊
    export interface Dates {␊
      start: Date␊
      end?: Date␊
    }␊
    ␊
    export const enum Empty {␊
    ␊
    }␊
    ␊
    /** default enum values are continuos i32s start from 0 */␊
    export const enum Kind {␊
      /** Barks */␊
      Dog = 0,␊
      /** Kills birds */␊
      Cat = 1,␊
      /** Tasty */␊
      Duck = 2␊
    }␊
    ␊
    export interface Obj {␊
      v: string | number␊
    }␊
    ␊
    export interface ObjectFieldClassInstance {␊
      bird: Bird␊
    }␊
    ␊
    /** This is an interface for package.json */␊
    export interface PackageJson {␊
      name: string␊
      /** The version of the package */␊
      version: string␊
      dependencies?: Record<string, any>␊
      devDependencies?: Record<string, any>␊
    }␊
    ␊
    export interface StrictObject {␊
      name: string␊
    }␊
    ␊
    export interface TsTypeChanged {␊
      typeOverride: object␊
      typeOverrideOptional?: object␊
    }␊
    ␊
    export function add(a: number, b: number): number␊
    export function appendBuffer(buf: Buffer): Buffer␊
    export function arrayBufferPassThrough(buf: Uint8Array): Promise<Uint8Array>␊
    export function asyncMultiTwo(arg: number): Promise<number>␊
    export function asyncPlus100(p: Promise<number>): Promise<number>␊
    export function asyncReduceBuffer(buf: Buffer): Promise<number>␊
    export function bigintAdd(a: bigint, b: bigint): bigint␊
    export function bigintGetU64AsString(bi: bigint): string␊
    export function bufferPassThrough(buf: Buffer): Promise<Buffer>␊
    export function callThreadsafeFunction(callback: (...args: any[]) => any): void␊
    export function callbackReturnPromise<T>(functionInput: () => T | Promise<T>, callback: (err: Error | null, result: T) => void): T | Promise<T>␊
    export function chronoDateAdd1Minute(input: Date): Date␊
    export function chronoDateToMillis(input: Date): number␊
    export function concatLatin1(s: string): string␊
    export function concatStr(s: string): string␊
    export function concatUtf16(s: string): string␊
    export function contains(source: string, target: string): boolean␊
    export function convertU32Array(input: Uint32Array): Array<number>␊
    export function createBigInt(): bigint␊
    export function createBigIntI64(): bigint␊
    export function createExternal(size: number): ExternalObject<number>␊
    export function createExternalString(content: string): ExternalObject<string>␊
    export function createExternalTypedArray(): Uint32Array␊
    export function createObj(): object␊
    export function createObjWithProperty(): { value: ArrayBuffer, get getter(): number }␊
    export function createObjectWithClassField(): ObjectFieldClassInstance␊
    export function createSymbol(): symbol␊
    export function dateToNumber(input: Date): number␊
    export function derefUint8Array(a: Uint8Array, b: Uint8ClampedArray): number␊
    export function either3(input: string | number | boolean): number␊
    export function either4(input: string | number | boolean | Obj): number␊
    export function eitherFromOption(): JsClassForEither | undefined␊
    export function eitherStringOrNumber(input: string | number): number␊
    export function enumToI32(e: CustomNumEnum): number␊
    export function fibonacci(n: number): number␊
    export function fnReceivedAliased(s: AliasedStruct, e: ALIAS): void␊
    export function getBuffer(): Buffer␊
    export function getCwd(callback: (arg0: string) => void): void␊
    export function getEmptyBuffer(): Buffer␊
    export function getExternal(external: ExternalObject<number>): number␊
    export function getGlobal(): typeof global␊
    export function getMapping(): Record<string, number>␊
    export function getNull(): null␊
    /** Gets some numbers */␊
    export function getNums(): Array<number>␊
    export function getPackageJsonName(packageJson: PackageJson): string␊
    export function getStrFromObject(): void␊
    export function getUndefined(): void␊
    export function getWords(): Array<string>␊
    export function getterFromObj(): number␊
    export function listObjKeys(obj: object): Array<string>␊
    export function mapOption(val?: number | undefined | null): number | null␊
    export function mutateExternal(external: ExternalObject<number>, newVal: number): void␊
    export function mutateTypedArray(input: Float32Array): void␊
    export function optionEnd(callback: (arg0: string, arg1?: string | undefined | null) => void): void␊
    export function optionOnly(callback: (arg0?: string | undefined | null) => void): void␊
    export function optionStart(callback: (arg0: string | undefined | null, arg1: string) => void): void␊
    export function optionStartEnd(callback: (arg0: string | undefined | null, arg1: string, arg2?: string | undefined | null) => void): void␊
    export function overrideIndividualArgOnFunction(notOverridden: string, f: () => string, notOverridden2: number): string␊
    export function overrideIndividualArgOnFunctionWithCbArg(callback: (town: string, name?: string | undefined | null) => string, notOverridden: number): object␊
    /** napi = { version = 2, features = ["serde-json"] } */␊
    export function readFile(callback: (arg0: Error | undefined, arg1?: string | undefined | null) => void): void␊
    export function readFileAsync(path: string): Promise<Buffer>␊
    export function readPackageJson(): PackageJson␊
    export function receiveAllOptionalObject(obj?: AllOptionalObject | undefined | null): void␊
    export function receiveClassOrNumber(either: number | JsClassForEither): number␊
    export function receiveDifferentClass(either: JsClassForEither | AnotherClassForEither): number␊
    export function receiveMutClassOrNumber(either: number | JsClassForEither): number␊
    export function receiveObjectWithClassField(object: ObjectFieldClassInstance): Bird␊
    export function receiveStrictObject(strictObject: StrictObject): void␊
    export function returnEither(input: number): string | number␊
    export function returnEitherClass(input: number): number | JsClassForEither␊
    export function returnJsFunction(): (...args: any[]) => any␊
    export function returnNull(): null␊
    export function returnUndefined(): void␊
    export function returnUndefinedIfInvalid(input: boolean): boolean␊
    export function returnUndefinedIfInvalidPromise(input: Promise<boolean>): Promise<boolean>␊
    export function roundtripStr(s: string): string␊
    export function setSymbolInObj(symbol: symbol): object␊
    export function sumMapping(nums: Record<string, number>): number␊
    export function sumNums(nums: Array<number>): number␊
    export function testSerdeRoundtrip(data: any): any␊
    export function threadsafeFunctionFatalMode(cb: (...args: any[]) => any): void␊
    export function threadsafeFunctionFatalModeError(cb: (...args: any[]) => any): void␊
    export function threadsafeFunctionThrowError(cb: (...args: any[]) => any): void␊
    export function throwError(): void␊
    export function toJsObj(): object␊
    export function tsRename(a: { foo: number }): string[]␊
    export function validateArray(arr: Array<number>): number␊
    export function validateBigint(input: bigint): bigint␊
    export function validateBoolean(i: boolean): boolean␊
    export function validateBuffer(b: Buffer): number␊
    export function validateDate(d: Date): number␊
    export function validateDateTime(d: Date): number␊
    export function validateExternal(e: ExternalObject<number>): number␊
    export function validateFunction(cb: () => number): number␊
    export function validateHashMap(input: Record<string, number>): number␊
    export function validateNull(i: null): boolean␊
    export function validateNumber(i: number): number␊
    export function validateOptional(input1?: string | undefined | null, input2?: boolean | undefined | null): boolean␊
    export function validatePromise(p: Promise<number>): Promise<number>␊
    export function validateString(s: string): string␊
    export function validateSymbol(s: symbol): boolean␊
    export function validateTypedArray(input: Uint8Array): number␊
    export function validateUndefined(i: undefined): boolean␊
    export function withAbortController(a: number, b: number, signal: AbortSignal): Promise<number>␊
    export function withoutAbortController(a: number, b: number): Promise<number>␊
    export function xxh64Alias(input: Buffer): bigint␊
    export namespace xxh2 {␊
      export function xxh2Plus(a: number, b: number): number␊
      export function xxh3Xxh64Alias(input: Buffer): bigint␊
    }␊
    export namespace xxh3 {␊
      /** Xxh3 class */␊
      export class Xxh3 {␊
        constructor()␊
        /** update */␊
        update(input: Buffer): void␊
        digest(): bigint␊
      }␊
    ␊
      export const ALIGNMENT: number␊
      /** xxh128 function */␊
      export function xxh128(input: Buffer): bigint␊
      export function xxh3_64(input: Buffer): bigint␊
    }␊
    `
